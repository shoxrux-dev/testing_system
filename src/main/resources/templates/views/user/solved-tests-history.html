<!DOCTYPE html>
<html lang="eng"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{views/layout}">
<head>

    <title>Solved Tests History</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<body>
<div layout:fragment="body">
    <div class="flex flex-col mx-auto px-4 md:w-2/3 justify-center my-4">
        <div th:if="${solvedTests == null}">
            <div class="mb-4 rounded-lg bg-warning-100 px-6 py-5 text-base text-warning-800" role="alert">
                You have not solved any tests
            </div>
        </div>
        <div th:if="${solvedTests != null}">
            <div class="text-center my-12">
                <h2 class="text-4xl md:text-6xl font-medium leading-tight text-black">
                    Test Results
                    <span class="inline-block whitespace-nowrap rounded-[0.27rem] bg-primary-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none text-primary-700"
                    >Overview</span>
                </h2>
            </div>
            <div class="w-full bg-neutral-200 dark:bg-neutral-600 my-12">
                <div class="bg-primary p-0.5 text-center text-xs font-medium leading-none text-primary-100"
                     th:style="${'width:'+solvedTests.getTruePercentage()+'%'}"
                     th:text="${solvedTests.getTruePercentage()+'%'}">
                </div>
            </div>
            <div th:each="solvedTest : ${solvedTests.getSolvedTestList()}">
                <div class="block rounded-lg p-6 bg-success-100 border border-green-500 mb-2"
                     th:if="${solvedTest.isRight()}">
                    <div class="flex items-center mb-4">
                        <h5 th:text="${solvedTest.getTest().getTestId()}"
                            class="mr-2 py-1 rounded-2xl px-3 bg-cyan-300"></h5>
                        <h5 th:text="${solvedTest.getAnsByUser()}"
                            class="text-xl font-medium leading-tight text-success-700"></h5>
                        <svg style="color: #16a34a; margin-left: auto" xmlns="http://www.w3.org/2000/svg" width="27"
                             height="27"
                             fill="currentColor" class="bi bi-check2-circle" viewBox="0 0 16 16">
                            <path d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"/>
                            <path d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"/>
                        </svg>
                    </div>
                    <hr class="border-green-300"/>
                    <div class="text-base">
                        <h5 th:text="${solvedTest.getTest().getQuestion()}"
                            class="block min-h-[auto] rounded px-3 py-[0.32rem] text-success-700"></h5>
                    </div>
                </div>
                <div class="block rounded-lg p-6 bg-danger-100 border border-red-500 mb-2"
                     th:if="${!solvedTest.isRight()}">
                    <div class="flex items-center mb-4">
                        <h5 th:text="${solvedTest.getTest().getTestId()}"
                            class="mr-2 py-1 rounded-2xl px-3 bg-cyan-300"></h5>
                        <h5 th:text="${solvedTest.getAnsByUser()}"
                            class="text-xl font-medium leading-tight text-danger-700"></h5>
                        <svg style="color: #D3465EFF; margin-left: auto; min-width: 27px; min-height: 27px"
                             xmlns="http://www.w3.org/2000/svg" width="27" height="27"
                             fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </div>
                    <hr class="border-red-300"/>
                    <div class="text-base">
                        <h5 th:text="${solvedTest.getTest().getQuestion()}"
                            class="block min-h-[auto] rounded px-3 py-[0.32rem] text-danger-700"></h5>
                    </div>
                </div>
            </div>
        </div>

        <a th:href="@{/profile}" class="inline-block ml-auto my-4 w-full md:w-1/5 text-center rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-primary-600 focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]">
            Back to profile
        </a>
    </div>
</div>
</body>
</html>